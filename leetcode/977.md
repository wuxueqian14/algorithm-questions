# 977. 有序数组的平方

## 二分查找+双指针

先通过二分查找找到正负数边界，再用双指针指向比较大小添加到ans中。

时间复杂度：O(n)。

```java
class Solution {

    public int[] sortedSquares(int[] nums) {
        int idx = greaterEqualZero(nums);
        int length = nums.length;
        int[] ans = new int[length];
        int l = idx - 1, r = idx;
        int cnt = 0;
        while (l >= 0 && r < length) {
            if (nums[l] * nums[l] < nums[r] * nums[r]) {
                ans[cnt] = nums[l] * nums[l];
                l -= 1;
            } else {
                ans[cnt] = nums[r] * nums[r];
                r += 1;
            }
            cnt += 1;
        }
        while (l >= 0) {
            ans[cnt] = nums[l] * nums[l];
            l -= 1;
            cnt += 1;
        }
        while (r < length) {
            ans[cnt] = nums[r] * nums[r];
            r += 1;
            cnt += 1;
        }
        return ans;
    }

    private int greaterEqualZero(int[] nums) {
        int l = 0, r = nums.length - 1;
        while (l <= r) {
            int mid = l + (r - l) / 2;
            if (nums[mid] < 0) {
                l = mid + 1;
            } else {
                r = mid - 1;
            }
        }
        return l;
    }
}
```